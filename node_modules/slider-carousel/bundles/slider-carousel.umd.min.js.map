{"version":3,"sources":["ng://slider-carousel/slider-carousel-preview/slider-carousel-preview.component.ts","ng://slider-carousel/helper.ts","ng://slider-carousel/slider-carousel.component.ts","ng://slider-carousel/slider-carousel.module.ts"],"names":["SliderCarouselPreviewComponent","elRef","this","class","closedClass","imageUrl","loading","scaleRate","modalRef","Object","defineProperty","prototype","img","width","height","window","innerWidth","innerHeight","ngOnInit","image","safeUrl","loadImage","pureUrl","_this","Image","onload","onWindowResize","src","onImageChange","fileName","onKeydown","event","preventDefault","stopImmediatePropagation","keyCode","close","widthDiff","windowWidth","heightDiff","windowHeight","setTimeout","ElementRef","Component","args","selector","template","host","(document:keydown)","(window:resize)","HostBinding","Helper","componentFactoryResolver","appRef","injector","openPreview","data","onCloseSubscribe","object","onClose","Observable","subscribe","instance","componenRef","createComponent","next","component","componentRef","resolveComponentFactory","create","detachView","hostView","destroy","assign","attachView","domElem","rootNodes","document","body","appendChild","smoothScroll","element","scroll","duration","direction","start","scrollTop","scrollLeft","distance","startTime","Date","getTime","timer","setInterval","time","newScroll","from","easeInOutQuart","clearInterval","scrollTo","elementIsChild","parentElment","tagName","toUpperCase","parentNode","_a","isMobileDevice","orientation","navigator","userAgent","indexOf","ComponentFactoryResolver","ApplicationRef","Injector","Injectable","SliderCarouselComponent","sanitizer","renderer","helper","images","preview","maxWidth","autoSize","safeImages","initialized","currentImageIndex","lastDirectionIsRight","containerWidth","destroyed","windowResizing","listeners","drag","state","startOffset","currentOffset","startLeft","currentLeft","length","ngOnChanges","prepare","endsWith","checkImages","initSlideDragWatching","ngAfterViewChecked","sectionEl","nativeElement","clientWidth","forEach","md","lg","sm","map","url","startsWith","bypassSecurityTrustUrl","style","_b","bypassSecurityTrustStyle","pure","_c","_d","_e","_f","innerImagesEl","stopSlideDragWatching","listen","onStartDrag","bind","onDragging","onEndDrag","unListen","previewImage","previewRef","selectImage","imageIndex","target","imageListEl","scrollingToElement","goPrevImage","salt","children","goNextImage","directionIsRight","scrollElement","scrollWidth","blockWidth","offsetLeft","scrollRight","currentScrollLeft","currentScrollRight","scroll_1","Math","floor","timerSroll","isDragging","currentImage","isTouching","touches","button","clientX","draggingRight","delta","abs","currentIsFisrt","currentIsLast","amountDragged_1","salts","ngOnDestroy","DomSanitizer","Renderer2","ViewChild","Input","SliderCarouselModule","NgModule","imports","CommonModule","exports","declarations","entryComponents","providers"],"mappings":"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","sourcesContent":["import { Component, OnInit, ElementRef, HostBinding } from '@angular/core';\nimport { SafeValue } from '@angular/platform-browser';\n\n@Component({\n\tselector: 'slider-carousel-preview',\n\ttemplateUrl: './slider-carousel-preview.component.html',\n\thost: {\n\t\t'(document:keydown)': 'onKeydown($event)',\n\t\t'(window:resize)': 'onWindowResize()'\n\t}\n})\nexport class SliderCarouselPreviewComponent implements OnInit {\n\t@HostBinding('class.slider-carousel-preview') public class: boolean = true;\n\t@HostBinding('class.closed') public closedClass: boolean = false;\n\n\tpublic imageUrl: SafeValue | string = '';\n\n\tpublic loading: boolean = true;\n\n\tprivate img: HTMLImageElement;\n\tprivate scaleRate: number = 1;\n\n\tprivate modalRef: { [key: string]: any } = {};\n\n\tpublic get width(): string { return (this.loading ? 0 : this.img.width * this.scaleRate) + 'px'; }\n\tpublic get height(): string { return (this.loading ? 0 : this.img.height * this.scaleRate) + 'px'; }\n\n\tprivate get windowWidth(): number { return window.innerWidth - 40; }\n\tprivate get windowHeight(): number { return window.innerHeight - 40; }\n\n\tconstructor(\n\t\tpublic elRef: ElementRef<HTMLElement>\n\t) {\n\t}\n\n\tngOnInit() {\n\t\tthis.imageUrl = this.modalRef.image.safeUrl;\n\t\tthis.loadImage(this.modalRef.image.pureUrl);\n\t}\n\n\tprivate loadImage(imageUrl: string) {\n\t\tthis.loading = true;\n\t\tthis.img = new Image();\n\t\tthis.img.onload = () => {\n\t\t\tthis.loading = false;\n\t\t\tthis.onWindowResize();\n\t\t};\n\t\tthis.img.src = imageUrl;\n\t}\n\n\tpublic onImageChange(image: { [key: string]: any }, fileName?: string) {\n\t\tif (!this.loading && this.imageUrl !== image.safeUrl) {\n\t\t\tthis.imageUrl = image.safeUrl;\n\t\t\tthis.loadImage(image.pureUrl);\n\t\t}\n\t}\n\n\tonKeydown(event: KeyboardEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\n\t\tif (event.keyCode === 27)\n\t\t\tthis.close();\n\t}\n\n\tonWindowResize() {\n\t\tif (!this.loading) {\n\t\t\tlet widthDiff = this.windowWidth - this.img.width;\n\t\t\tlet heightDiff = this.windowHeight - this.img.height;\n\n\t\t\tif (widthDiff < 0 || heightDiff < 0) {\n\t\t\t\tif (widthDiff < heightDiff) {\n\t\t\t\t\tif (this.img.width > this.windowWidth) {\n\t\t\t\t\t\tthis.scaleRate = this.windowWidth / this.img.width;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (this.img.height > this.windowHeight) {\n\t\t\t\t\t\tthis.scaleRate = this.windowHeight / this.img.height;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.scaleRate = 1;\n\t}\n\n\tclose() {\n\t\tthis.closedClass = true;\n\t\tsetTimeout(() => this.modalRef.close(), 500);\n\t}\n}\n","import { Injectable, ComponentFactoryResolver, ApplicationRef, Injector, EmbeddedViewRef, ComponentRef } from '@angular/core';\nimport { Observable, Subscriber } from 'rxjs';\nimport { SliderCarouselPreviewComponent } from './slider-carousel-preview/slider-carousel-preview.component';\n\n@Injectable()\nexport class Helper {\n\n    constructor(\n        private componentFactoryResolver: ComponentFactoryResolver,\n        private appRef: ApplicationRef,\n        private injector: Injector\n    ) {\n\n    }\n\t\n\tpublic openPreview(data: { [key: string]: any } = {}) {\n        let onCloseSubscribe: Subscriber<any>;\n\t\tlet object: {\n            onClose: Observable<any>,\n            instance: SliderCarouselPreviewComponent\n        };\n\n        object = {\n            onClose: new Observable((subscribe) => onCloseSubscribe = subscribe),\n            instance: null\n        };\n\n        let componenRef = this.createComponent(SliderCarouselPreviewComponent, data, (data) => {\n            onCloseSubscribe.next(data);\n        });\n        object.instance = (componenRef as ComponentRef<SliderCarouselPreviewComponent>).instance;\n\n        return object;\n    }\n    \n    public createComponent(component: any, data, onClose: (data) => void) {\n        const componentRef = this.componentFactoryResolver\n            .resolveComponentFactory(component)\n            .create(this.injector);\n\n        if (!data) data = {};\n\n        data.close = (data) => {\n            this.appRef.detachView(componentRef.hostView);\n            componentRef.destroy();\n            if (onClose) onClose(data);\n        };\n        \n        Object.assign(componentRef.instance, { modalRef: data });\n\n        this.appRef.attachView(componentRef.hostView);\n        \n        const domElem = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n        \n        document.body.appendChild(domElem);\n\n        return componentRef;\n    }\n\n    public smoothScroll(element: HTMLElement, scroll: number, duration: number = 400, direction: string = 'top') {\n\t\tlet start = direction === 'top' ? element.scrollTop : element.scrollLeft;\n\n\t\tif (scroll < 0) scroll = 0;\n\n\t\tlet distance = (scroll - start) - 77;\n\n\t\tlet startTime = new Date().getTime();\n\n\t\tif (!duration) duration = 400;\n\n\t\tlet easeInOutQuart = (time, from, distance, duration) => {\n\t\t\tif ((time /= duration / 2) < 1)\n\t\t\t\treturn distance / 2 * time * time * time * time + from;\n\t\t\treturn -distance / 2 * ((time -= 2) * time * time * time - 2) + from;\n\t\t};\n\n\t\tlet timer = setInterval(() => {\n\t\t\tconst time = new Date().getTime() - startTime,\n\t\t\tnewScroll = easeInOutQuart(time, start, distance, duration);\n\n\t\t\tif (time >= duration) {\n\t\t\t\tclearInterval(timer);\n\t\t\t\ttimer = null;\n\t\t\t}\n\n\t\t\tif (element.scrollTo) {\n\t\t\t\tif (direction === 'top')\n\t\t\t\t\telement.scrollTo(element.scrollLeft, newScroll);\n\t\t\t\telse\n\t\t\t\t\telement.scrollTo(newScroll, element.scrollTop);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (direction === 'top')\n\t\t\t\t\telement.scrollTop = newScroll;\n\t\t\t\telse\n\t\t\t\t\telement.scrollLeft = newScroll;\n\t\t\t}\n\t\t}, 1000 / 60);\n\n\t\treturn timer;\n    }\n    \n\tpublic elementIsChild(element, parentElment): boolean{\n\t\ttry {\n\t\t\twhile (element && element.tagName.toUpperCase() !== 'BODY') {\n\t\t\t\tif (element === parentElment) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\tcatch {\n\t\t\treturn false;\n\t\t}\n\t}\n\n    public isMobileDevice() {\n        return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\n    }\n}","import { Component, OnInit, HostBinding, Input, ElementRef, ViewChild, OnDestroy, OnChanges, Renderer2, AfterViewChecked } from '@angular/core';\nimport { DomSanitizer, SafeUrl, SafeStyle } from '@angular/platform-browser';\nimport { Observable } from 'rxjs';\nimport { SliderCarouselPreviewComponent } from './slider-carousel-preview/slider-carousel-preview.component';\nimport { Helper } from './helper';\n\n@Component({\n\tselector: 'slider-carousel',\n\ttemplateUrl: './slider-carousel.component.html',\n\thost: {\n\t\t'(document:keydown)': 'onKeydown($event)',\n\t\t'(window:resize)': 'onWindowResize()'\n\t}\n})\nexport class SliderCarouselComponent implements OnInit, OnChanges, OnDestroy, AfterViewChecked {\n\t@HostBinding('class.slider-carousel') public class: boolean = true;\n\n\t@ViewChild('section') private sectionEl: ElementRef<HTMLElement>;\n\t@ViewChild('imageList') private imageListEl: ElementRef<HTMLElement>;\n\t@ViewChild('innerImages') private innerImagesEl: ElementRef<HTMLElement>;\n\n\t@Input() public images: { lg: string, md?: string, sm?: string }[] | string[] = [];\n\n\t@Input() public preview: boolean = true;\n\t@Input() public height: string = '500px';\n\t@Input() public width: string = '100%';\n\t@Input('max-width') public maxWidth: string = '100%';\n\t@Input('auto-size') public autoSize: boolean = false;\n\n\tpublic safeImages: {\n\t\tlg: { url: SafeUrl | string, style: SafeStyle | string, pure: string },\n\t\tmd: { url: SafeUrl | string, style: SafeStyle | string, pure: string },\n\t\tsm: { url: SafeUrl | string, style: SafeStyle | string, pure: string }\n\t}[] = [];\n\n\tpublic initialized: boolean = false;\n\n\tpublic currentImageIndex: number = 0;\n\tpublic lastDirectionIsRight: boolean = false;\n\n\tprivate timerSroll: any;\n\n\tpublic containerWidth: number = 0;\n\n\tprivate destroyed: boolean = false;\n\tpublic windowResizing: boolean = false;\n\tprivate previewRef: {\n\t\tonClose: Observable<any>,\n\t\tinstance: SliderCarouselPreviewComponent\n\t};\n\n\tprivate listeners: (() => void)[] = [];\n\n\tpublic get currentImage() { return this.safeImages[this.currentImageIndex]; }\n\tpublic get currentIsFisrt() { return this.currentImageIndex === 0; }\n\tpublic get currentIsLast() { return this.currentImageIndex === (this.images.length - 1); }\n\n\tpublic get isDragging() { return this.drag.state !== 'none'; }\n\tpublic drag = {\n\t\tstate: 'none', // 'start', 'dragging', 'none'\n\t\tstartOffset: 0,\n\t\tcurrentOffset: 0,\n\t\tstartLeft: 0,\n\t\tcurrentLeft: 0,\n\t};\n\n\tconstructor(\n\t\tprivate sanitizer: DomSanitizer,\n\t\tprivate renderer: Renderer2,\n\t\tprivate helper: Helper\n\t) {\n\t}\n\n\tngOnInit() {\n\t}\n\n\tngOnChanges() {\n\t\tthis.prepare();\n\t}\n\n\tprivate prepare() {\n\t\tif (typeof this.height !== 'string')\n\t\t\tthis.height = '500px';\n\t\telse if (!this.height.endsWith('%') && !this.height.endsWith('px'))\n\t\t\tthis.height += 'px';\n\n\t\tif (typeof this.width !== 'string')\n\t\t\tthis.width = '100%';\n\t\telse if (!this.width.endsWith('%') && !this.width.endsWith('px'))\n\t\t\tthis.width += 'px';\n\n\t\tif (typeof this.maxWidth !== 'string')\n\t\t\tthis.maxWidth = '100%';\n\t\telse if (!this.maxWidth.endsWith('%') && !this.maxWidth.endsWith('px'))\n\t\t\tthis.maxWidth += 'px';\n\n\t\tthis.initialized = true;\n\t\tthis.checkImages();\n\t\tthis.initSlideDragWatching();\n\t\tthis.ngAfterViewChecked();\n\t}\n\n\tngAfterViewChecked(): void {\n\t\tif (!this.windowResizing) {\n\t\t\tlet width = 0;\n\t\t\tif (this.sectionEl && this.sectionEl.nativeElement)\n\t\t\t\twidth = this.sectionEl.nativeElement.clientWidth;\n\n\t\t\tif (width !== this.containerWidth)\n\t\t\t\tthis.containerWidth = width;\n\t\t}\n\t}\n\n\tprivate checkImages() {\n\t\tif (this.images && this.images.length) {\n\t\t\tif (typeof this.images[0] !== 'string') {\n\t\t\t\t(this.images as { lg: string, md?: string, sm?: string }[]).forEach((image) => {\n\t\t\t\t\tif (!image.md)\n\t\t\t\t\t\timage.md = image.lg;\n\t\t\t\t\tif (!image.sm)\n\t\t\t\t\t\timage.sm = image.md;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.images = (this.images as string[]).map((image) => {\n\t\t\t\t\treturn { lg: image, md: image, sm: image };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.safeImages = (this.images as { lg: string, md: string, sm: string }[]).map((image) => {\n\t\t\t\tlet sizes = {\n\t\t\t\t\tlg: { \n\t\t\t\t\t\turl: image.lg?.startsWith('http') ? this.sanitizer.bypassSecurityTrustUrl(image.lg) : image.lg,\n\t\t\t\t\t\tstyle: image.lg?.startsWith('http') ? this.sanitizer.bypassSecurityTrustStyle(`url('${image.lg}')`) : `url('${image.lg}')`,\n\t\t\t\t\t\tpure: image.lg\n\t\t\t\t\t},\n\t\t\t\t\tmd: { \n\t\t\t\t\t\turl: image.md?.startsWith('http') ? this.sanitizer.bypassSecurityTrustUrl(image.md) : image.md,\n\t\t\t\t\t\tstyle: image.md?.startsWith('http') ? this.sanitizer.bypassSecurityTrustStyle(`url('${image.md}')`) : `url('${image.md}')`,\n\t\t\t\t\t\tpure: image.md\n\t\t\t\t\t},\n\t\t\t\t\tsm: { \n\t\t\t\t\t\turl: image.sm?.startsWith('http') ? this.sanitizer.bypassSecurityTrustUrl(image.sm) : image.sm,\n\t\t\t\t\t\tstyle: image.sm?.startsWith('http') ? this.sanitizer.bypassSecurityTrustStyle(`url('${image.sm}')`) : `url('${image.sm}')`,\n\t\t\t\t\t\tpure: image.sm\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn sizes;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.safeImages = [];\n\t\t}\n\t}\n\n\tprivate initSlideDragWatching() {\n\t\tif (this.innerImagesEl && this.innerImagesEl.nativeElement) {\n\t\t\tthis.stopSlideDragWatching();\n\n\t\t\tif (this.helper.isMobileDevice())\n\t\t\t\tthis.listeners = [\n\t\t\t\t\tthis.renderer.listen(document.body, 'touchstart', this.onStartDrag.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'touchmove', this.onDragging.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'touchend', this.onEndDrag.bind(this))\n\t\t\t\t];\n\t\t\telse\n\t\t\t\tthis.listeners = [\n\t\t\t\t\tthis.renderer.listen(document.body, 'mousedown', this.onStartDrag.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'mousemove', this.onDragging.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'mouseup', this.onEndDrag.bind(this)),\n\t\t\t\t];\n\t\t}\n\t\telse\n\t\t\tsetTimeout(() => this.initSlideDragWatching(), 200);\n\t}\n\n\tprivate stopSlideDragWatching() {\n\t\tif (this.listeners && this.listeners.length)\n\t\t\tthis.listeners.forEach((unListen) => unListen());\n\t}\n\n\tpublic previewImage(image: any) {\n\t\tif (!this.previewRef) {\n\t\t\tthis.previewRef = this.helper.openPreview({\n\t\t\t\timage: {\n\t\t\t\t\tpureUrl: image.lg.pure,\n\t\t\t\t\tsafeUrl: image.lg.url,\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.previewRef.onClose.subscribe(() => this.previewRef = null);\n\t\t}\n\t}\n\n\tpublic selectImage(imageIndex: number, event) {\n\t\tif (imageIndex !== this.currentImageIndex) {\n\t\t\tthis.lastDirectionIsRight = imageIndex > this.currentImageIndex;\n\t\t\tthis.currentImageIndex = imageIndex;\n\n\t\t\tif (event.target && this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\tthis.scrollingToElement(event.target as HTMLElement, this.lastDirectionIsRight);\n\t\t}\n\t}\n\n\tpublic goPrevImage(salt: number = 0) {\n\t\tif (this.currentImageIndex > 0) {\n\t\t\tif (salt) {\n\t\t\t\tif ((this.currentImageIndex - salt) >= 0)\n\t\t\t\t\tthis.currentImageIndex -= salt + 1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentImageIndex = 0;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.currentImageIndex--;\n\n\t\t\tthis.lastDirectionIsRight = false;\n\n\t\t\tlet target = this.imageListEl.nativeElement.children[0].children[this.currentImageIndex] as HTMLElement;\n\t\t\tif (this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\tthis.scrollingToElement(target, this.lastDirectionIsRight);\n\t\t}\n\t}\n\n\tpublic goNextImage(salt: number = 0) {\n\t\tif ((this.currentImageIndex + 1) < this.images.length) {\n\t\t\tif (salt) {\n\t\t\t\tif ((this.currentImageIndex + salt + 1) <= (this.images.length - 1))\n\t\t\t\t\tthis.currentImageIndex = salt + 1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentImageIndex = this.images.length;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.currentImageIndex++;\n\n\t\t\tthis.lastDirectionIsRight = true;\n\n\t\t\tlet target = this.imageListEl.nativeElement.children[0].children[this.currentImageIndex] as HTMLElement;\n\t\t\tif (this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\tthis.scrollingToElement(target, this.lastDirectionIsRight);\n\t\t}\n\t}\n\n\tprivate scrollingToElement(element: HTMLElement, directionIsRight: boolean) {\n\t\tlet scrollElement = this.imageListEl.nativeElement;\n\t\tif (scrollElement && scrollElement.scrollWidth > 0){\n\t\t\tlet blockWidth = element.clientWidth + 14;\n\t\t\tlet scrollLeft = element.offsetLeft - 14;\n\t\t\tlet scrollRight = element.offsetLeft + element.clientWidth + 14;\n\t\t\tlet currentScrollLeft = scrollElement.scrollLeft;\n\t\t\tlet currentScrollRight = scrollElement.scrollLeft + scrollElement.clientWidth;\n\n\t\t\tlet scroll = .1;\n\n\t\t\tif (directionIsRight && (currentScrollRight - scrollRight) < Math.floor(blockWidth / 2))\n\t\t\t\tscroll = currentScrollLeft + blockWidth + 100;\n\t\t\telse if (!directionIsRight && (scrollLeft - currentScrollLeft) < Math.floor(blockWidth / 2))\n\t\t\t\tscroll = currentScrollLeft - blockWidth;\n\n\t\t\tif (scroll !== .1) {\n\t\t\t\tif (this.timerSroll) clearInterval(this.timerSroll);\n\t\t\t\tthis.timerSroll = this.helper.smoothScroll(scrollElement, scroll, 400, 'left');\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic onKeydown(event) {\n\t\tif (!this.destroyed && !this.isDragging && [37, 39].indexOf(event.keyCode) >= 0) {\n            if (event.keyCode === 37)\n                this.goPrevImage();\n            else\n\t\t\t\tthis.goNextImage();\n\t\t\t\t\n\t\t\tif (this.previewRef)\n\t\t\t\tthis.previewRef.instance.onImageChange({\n\t\t\t\t\tpureUrl: this.currentImage.lg.pure,\n\t\t\t\t\tsafeUrl: this.currentImage.lg.url,\n\t\t\t\t});\n\t\t}\n\t}\n\n\tpublic onWindowResize() {\n\t\tif (!this.destroyed && !this.windowResizing) {\n\t\t\tthis.windowResizing = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.containerWidth = this.sectionEl.nativeElement.clientWidth;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.windowResizing = false;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (this.imageListEl && this.imageListEl.nativeElement) {\n\t\t\t\t\t\t\tlet target = this.imageListEl.nativeElement.children[0].children[this.currentImageIndex] as HTMLElement;\n\t\t\t\t\t\t\tif (this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\t\t\t\t\tthis.scrollingToElement(target, this.lastDirectionIsRight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 100);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate onStartDrag(event) {\n\t\tlet isTouching = false;\n\t\tif (event.touches) {\n\t\t\tisTouching = true;\n\t\t\tevent = event.touches[0];\n\t\t}\n\t\t\n\t\tif (isTouching || event.button === 0) {\n\t\t\tif (this.helper.elementIsChild(event.target, this.sectionEl.nativeElement)) {\n\t\t\t\tthis.drag.startLeft = this.innerImagesEl.nativeElement.offsetLeft;\n\t\t\t\tthis.drag.currentLeft = this.innerImagesEl.nativeElement.offsetLeft;\n\t\t\t\tthis.drag.startOffset = event.clientX;\n\t\t\t\tthis.drag.currentOffset = event.clientX;\n\t\t\t\tthis.drag.state = 'start';\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onDragging(event) {\n\t\tif (event.touches)\n\t\t\tevent = event.touches[0];\n\n\t\tif (this.drag.state === 'start' || this.drag.state === 'dragging') {\n\n\t\t\tthis.drag.state = 'dragging';\n\t\t\tthis.drag.currentOffset = event.clientX;\n\n\t\t\tif (this.drag.startOffset !== this.drag.currentOffset) {\n\t\t\t\tlet draggingRight = this.drag.currentOffset > this.drag.startOffset;\n\t\t\t\tlet delta = Math.abs(this.drag.currentOffset - this.drag.startOffset) * .8;\n\n\t\t\t\tif (((draggingRight && this.currentIsFisrt) || (!draggingRight && this.currentIsLast)) && delta > Math.floor(this.containerWidth / 3))\n\t\t\t\t\tdelta = Math.floor(this.containerWidth / 3);\n\n\t\t\t\tthis.drag.currentLeft = this.drag.startLeft + ((draggingRight ? 1 : -1) * delta);\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.drag.currentLeft = this.drag.startLeft;\n\t\t}\n\t}\n\n\tprivate onEndDrag(event) {\n\t\tlet isTouching = false;\n\t\tif (event.touches) {\n\t\t\tisTouching = true;\n\t\t\tevent = event.touches[0];\n\t\t}\n\t\t\n\t\tif (isTouching || event.button === 0) {\n\t\t\tlet amountDragged = Math.abs(this.drag.startOffset - this.drag.currentOffset);\n\n\t\t\tif (this.drag.state === 'dragging' && amountDragged > 0)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.drag.state = 'none';\n\n\t\t\t\t\tlet minDreg = 70;\n\n\t\t\t\t\tif (amountDragged >= minDreg) {\n\t\t\t\t\t\tlet draggingRight = this.drag.currentOffset > this.drag.startOffset;\n\n\t\t\t\t\t\tlet salts = (amountDragged / this.sectionEl.nativeElement.clientWidth) - 1;\n\t\t\t\t\t\tif (salts >= 1)\n\t\t\t\t\t\t\tsalts = Math.floor(salts);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsalts = 0;\n\n\t\t\t\t\t\tif (draggingRight && !this.currentIsFisrt)\n\t\t\t\t\t\t\tthis.goPrevImage(salts);\n\t\t\t\t\t\telse if (!draggingRight && !this.currentIsLast)\n\t\t\t\t\t\t\tthis.goNextImage(salts);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\telse {\n\t\t\t\tthis.drag.state = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tthis.destroyed = true;\n\t\tthis.stopSlideDragWatching();\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SliderCarouselComponent } from './slider-carousel.component';\nimport { SliderCarouselPreviewComponent } from './slider-carousel-preview/slider-carousel-preview.component';\nimport { Helper } from './helper';\n\n@NgModule({\n    imports: [\n        CommonModule,\n    ],\n    exports: [\n        SliderCarouselComponent\n    ],\n    declarations: [\n        SliderCarouselComponent,\n        SliderCarouselPreviewComponent\n    ],\n    entryComponents: [\n        SliderCarouselComponent,\n        SliderCarouselPreviewComponent\n    ],\n    providers: [\n        Helper\n    ]\n})\nexport class SliderCarouselModule { }\n"]}