{"version":3,"file":"slider-carousel.js","sources":["ng://slider-carousel/slider-carousel-preview/slider-carousel-preview.component.ts","ng://slider-carousel/helper.ts","ng://slider-carousel/slider-carousel.component.ts","ng://slider-carousel/slider-carousel.module.ts","ng://slider-carousel/slider-carousel.ts"],"sourcesContent":["import { Component, OnInit, ElementRef, HostBinding } from '@angular/core';\nimport { SafeValue } from '@angular/platform-browser';\n\n@Component({\n\tselector: 'slider-carousel-preview',\n\ttemplateUrl: './slider-carousel-preview.component.html',\n\thost: {\n\t\t'(document:keydown)': 'onKeydown($event)',\n\t\t'(window:resize)': 'onWindowResize()'\n\t}\n})\nexport class SliderCarouselPreviewComponent implements OnInit {\n\t@HostBinding('class.slider-carousel-preview') public class: boolean = true;\n\t@HostBinding('class.closed') public closedClass: boolean = false;\n\n\tpublic imageUrl: SafeValue | string = '';\n\n\tpublic loading: boolean = true;\n\n\tprivate img: HTMLImageElement;\n\tprivate scaleRate: number = 1;\n\n\tprivate modalRef: { [key: string]: any } = {};\n\n\tpublic get width(): string { return (this.loading ? 0 : this.img.width * this.scaleRate) + 'px'; }\n\tpublic get height(): string { return (this.loading ? 0 : this.img.height * this.scaleRate) + 'px'; }\n\n\tprivate get windowWidth(): number { return window.innerWidth - 40; }\n\tprivate get windowHeight(): number { return window.innerHeight - 40; }\n\n\tconstructor(\n\t\tpublic elRef: ElementRef<HTMLElement>\n\t) {\n\t}\n\n\tngOnInit() {\n\t\tthis.imageUrl = this.modalRef.image.safeUrl;\n\t\tthis.loadImage(this.modalRef.image.pureUrl);\n\t}\n\n\tprivate loadImage(imageUrl: string) {\n\t\tthis.loading = true;\n\t\tthis.img = new Image();\n\t\tthis.img.onload = () => {\n\t\t\tthis.loading = false;\n\t\t\tthis.onWindowResize();\n\t\t};\n\t\tthis.img.src = imageUrl;\n\t}\n\n\tpublic onImageChange(image: { [key: string]: any }, fileName?: string) {\n\t\tif (!this.loading && this.imageUrl !== image.safeUrl) {\n\t\t\tthis.imageUrl = image.safeUrl;\n\t\t\tthis.loadImage(image.pureUrl);\n\t\t}\n\t}\n\n\tonKeydown(event: KeyboardEvent) {\n\t\tevent.preventDefault();\n\t\tevent.stopImmediatePropagation();\n\n\t\tif (event.keyCode === 27)\n\t\t\tthis.close();\n\t}\n\n\tonWindowResize() {\n\t\tif (!this.loading) {\n\t\t\tlet widthDiff = this.windowWidth - this.img.width;\n\t\t\tlet heightDiff = this.windowHeight - this.img.height;\n\n\t\t\tif (widthDiff < 0 || heightDiff < 0) {\n\t\t\t\tif (widthDiff < heightDiff) {\n\t\t\t\t\tif (this.img.width > this.windowWidth) {\n\t\t\t\t\t\tthis.scaleRate = this.windowWidth / this.img.width;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (this.img.height > this.windowHeight) {\n\t\t\t\t\t\tthis.scaleRate = this.windowHeight / this.img.height;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis.scaleRate = 1;\n\t}\n\n\tclose() {\n\t\tthis.closedClass = true;\n\t\tsetTimeout(() => this.modalRef.close(), 500);\n\t}\n}\n","import { Injectable, ComponentFactoryResolver, ApplicationRef, Injector, EmbeddedViewRef, ComponentRef } from '@angular/core';\nimport { Observable, Subscriber } from 'rxjs';\nimport { SliderCarouselPreviewComponent } from './slider-carousel-preview/slider-carousel-preview.component';\n\n@Injectable()\nexport class Helper {\n\n    constructor(\n        private componentFactoryResolver: ComponentFactoryResolver,\n        private appRef: ApplicationRef,\n        private injector: Injector\n    ) {\n\n    }\n\t\n\tpublic openPreview(data: { [key: string]: any } = {}) {\n        let onCloseSubscribe: Subscriber<any>;\n\t\tlet object: {\n            onClose: Observable<any>,\n            instance: SliderCarouselPreviewComponent\n        };\n\n        object = {\n            onClose: new Observable((subscribe) => onCloseSubscribe = subscribe),\n            instance: null\n        };\n\n        let componenRef = this.createComponent(SliderCarouselPreviewComponent, data, (data) => {\n            onCloseSubscribe.next(data);\n        });\n        object.instance = (componenRef as ComponentRef<SliderCarouselPreviewComponent>).instance;\n\n        return object;\n    }\n    \n    public createComponent(component: any, data, onClose: (data) => void) {\n        const componentRef = this.componentFactoryResolver\n            .resolveComponentFactory(component)\n            .create(this.injector);\n\n        if (!data) data = {};\n\n        data.close = (data) => {\n            this.appRef.detachView(componentRef.hostView);\n            componentRef.destroy();\n            if (onClose) onClose(data);\n        };\n        \n        Object.assign(componentRef.instance, { modalRef: data });\n\n        this.appRef.attachView(componentRef.hostView);\n        \n        const domElem = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n        \n        document.body.appendChild(domElem);\n\n        return componentRef;\n    }\n\n    public smoothScroll(element: HTMLElement, scroll: number, duration: number = 400, direction: string = 'top') {\n\t\tlet start = direction === 'top' ? element.scrollTop : element.scrollLeft;\n\n\t\tif (scroll < 0) scroll = 0;\n\n\t\tlet distance = (scroll - start) - 77;\n\n\t\tlet startTime = new Date().getTime();\n\n\t\tif (!duration) duration = 400;\n\n\t\tlet easeInOutQuart = (time, from, distance, duration) => {\n\t\t\tif ((time /= duration / 2) < 1)\n\t\t\t\treturn distance / 2 * time * time * time * time + from;\n\t\t\treturn -distance / 2 * ((time -= 2) * time * time * time - 2) + from;\n\t\t};\n\n\t\tlet timer = setInterval(() => {\n\t\t\tconst time = new Date().getTime() - startTime,\n\t\t\tnewScroll = easeInOutQuart(time, start, distance, duration);\n\n\t\t\tif (time >= duration) {\n\t\t\t\tclearInterval(timer);\n\t\t\t\ttimer = null;\n\t\t\t}\n\n\t\t\tif (element.scrollTo) {\n\t\t\t\tif (direction === 'top')\n\t\t\t\t\telement.scrollTo(element.scrollLeft, newScroll);\n\t\t\t\telse\n\t\t\t\t\telement.scrollTo(newScroll, element.scrollTop);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (direction === 'top')\n\t\t\t\t\telement.scrollTop = newScroll;\n\t\t\t\telse\n\t\t\t\t\telement.scrollLeft = newScroll;\n\t\t\t}\n\t\t}, 1000 / 60);\n\n\t\treturn timer;\n    }\n    \n\tpublic elementIsChild(element, parentElment): boolean{\n\t\ttry {\n\t\t\twhile (element && element.tagName.toUpperCase() !== 'BODY') {\n\t\t\t\tif (element === parentElment) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\telement = element.parentNode;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\tcatch {\n\t\t\treturn false;\n\t\t}\n\t}\n\n    public isMobileDevice() {\n        return (typeof window.orientation !== \"undefined\") || (navigator.userAgent.indexOf('IEMobile') !== -1);\n    }\n}","import { Component, OnInit, HostBinding, Input, ElementRef, ViewChild, OnDestroy, OnChanges, Renderer2, AfterViewChecked } from '@angular/core';\nimport { DomSanitizer, SafeUrl, SafeStyle } from '@angular/platform-browser';\nimport { Observable } from 'rxjs';\nimport { SliderCarouselPreviewComponent } from './slider-carousel-preview/slider-carousel-preview.component';\nimport { Helper } from './helper';\n\n@Component({\n\tselector: 'slider-carousel',\n\ttemplateUrl: './slider-carousel.component.html',\n\thost: {\n\t\t'(document:keydown)': 'onKeydown($event)',\n\t\t'(window:resize)': 'onWindowResize()'\n\t}\n})\nexport class SliderCarouselComponent implements OnInit, OnChanges, OnDestroy, AfterViewChecked {\n\t@HostBinding('class.slider-carousel') public class: boolean = true;\n\n\t@ViewChild('section') private sectionEl: ElementRef<HTMLElement>;\n\t@ViewChild('imageList') private imageListEl: ElementRef<HTMLElement>;\n\t@ViewChild('innerImages') private innerImagesEl: ElementRef<HTMLElement>;\n\n\t@Input() public images: { lg: string, md?: string, sm?: string }[] | string[] = [];\n\n\t@Input() public preview: boolean = true;\n\t@Input() public height: string = '500px';\n\t@Input() public width: string = '100%';\n\t@Input('max-width') public maxWidth: string = '100%';\n\t@Input('auto-size') public autoSize: boolean = false;\n\n\tpublic safeImages: {\n\t\tlg: { url: SafeUrl | string, style: SafeStyle | string, pure: string },\n\t\tmd: { url: SafeUrl | string, style: SafeStyle | string, pure: string },\n\t\tsm: { url: SafeUrl | string, style: SafeStyle | string, pure: string }\n\t}[] = [];\n\n\tpublic initialized: boolean = false;\n\n\tpublic currentImageIndex: number = 0;\n\tpublic lastDirectionIsRight: boolean = false;\n\n\tprivate timerSroll: any;\n\n\tpublic containerWidth: number = 0;\n\n\tprivate destroyed: boolean = false;\n\tpublic windowResizing: boolean = false;\n\tprivate previewRef: {\n\t\tonClose: Observable<any>,\n\t\tinstance: SliderCarouselPreviewComponent\n\t};\n\n\tprivate listeners: (() => void)[] = [];\n\n\tpublic get currentImage() { return this.safeImages[this.currentImageIndex]; }\n\tpublic get currentIsFisrt() { return this.currentImageIndex === 0; }\n\tpublic get currentIsLast() { return this.currentImageIndex === (this.images.length - 1); }\n\n\tpublic get isDragging() { return this.drag.state !== 'none'; }\n\tpublic drag = {\n\t\tstate: 'none', // 'start', 'dragging', 'none'\n\t\tstartOffset: 0,\n\t\tcurrentOffset: 0,\n\t\tstartLeft: 0,\n\t\tcurrentLeft: 0,\n\t};\n\n\tconstructor(\n\t\tprivate sanitizer: DomSanitizer,\n\t\tprivate renderer: Renderer2,\n\t\tprivate helper: Helper\n\t) {\n\t}\n\n\tngOnInit() {\n\t}\n\n\tngOnChanges() {\n\t\tthis.prepare();\n\t}\n\n\tprivate prepare() {\n\t\tif (typeof this.height !== 'string')\n\t\t\tthis.height = '500px';\n\t\telse if (!this.height.endsWith('%') && !this.height.endsWith('px'))\n\t\t\tthis.height += 'px';\n\n\t\tif (typeof this.width !== 'string')\n\t\t\tthis.width = '100%';\n\t\telse if (!this.width.endsWith('%') && !this.width.endsWith('px'))\n\t\t\tthis.width += 'px';\n\n\t\tif (typeof this.maxWidth !== 'string')\n\t\t\tthis.maxWidth = '100%';\n\t\telse if (!this.maxWidth.endsWith('%') && !this.maxWidth.endsWith('px'))\n\t\t\tthis.maxWidth += 'px';\n\n\t\tthis.initialized = true;\n\t\tthis.checkImages();\n\t\tthis.initSlideDragWatching();\n\t\tthis.ngAfterViewChecked();\n\t}\n\n\tngAfterViewChecked(): void {\n\t\tif (!this.windowResizing) {\n\t\t\tlet width = 0;\n\t\t\tif (this.sectionEl && this.sectionEl.nativeElement)\n\t\t\t\twidth = this.sectionEl.nativeElement.clientWidth;\n\n\t\t\tif (width !== this.containerWidth)\n\t\t\t\tthis.containerWidth = width;\n\t\t}\n\t}\n\n\tprivate checkImages() {\n\t\tif (this.images && this.images.length) {\n\t\t\tif (typeof this.images[0] !== 'string') {\n\t\t\t\t(this.images as { lg: string, md?: string, sm?: string }[]).forEach((image) => {\n\t\t\t\t\tif (!image.md)\n\t\t\t\t\t\timage.md = image.lg;\n\t\t\t\t\tif (!image.sm)\n\t\t\t\t\t\timage.sm = image.md;\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.images = (this.images as string[]).map((image) => {\n\t\t\t\t\treturn { lg: image, md: image, sm: image };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.safeImages = (this.images as { lg: string, md: string, sm: string }[]).map((image) => {\n\t\t\t\tlet sizes = {\n\t\t\t\t\tlg: { \n\t\t\t\t\t\turl: image.lg?.startsWith('http') ? this.sanitizer.bypassSecurityTrustUrl(image.lg) : image.lg,\n\t\t\t\t\t\tstyle: image.lg?.startsWith('http') ? this.sanitizer.bypassSecurityTrustStyle(`url('${image.lg}')`) : `url('${image.lg}')`,\n\t\t\t\t\t\tpure: image.lg\n\t\t\t\t\t},\n\t\t\t\t\tmd: { \n\t\t\t\t\t\turl: image.md?.startsWith('http') ? this.sanitizer.bypassSecurityTrustUrl(image.md) : image.md,\n\t\t\t\t\t\tstyle: image.md?.startsWith('http') ? this.sanitizer.bypassSecurityTrustStyle(`url('${image.md}')`) : `url('${image.md}')`,\n\t\t\t\t\t\tpure: image.md\n\t\t\t\t\t},\n\t\t\t\t\tsm: { \n\t\t\t\t\t\turl: image.sm?.startsWith('http') ? this.sanitizer.bypassSecurityTrustUrl(image.sm) : image.sm,\n\t\t\t\t\t\tstyle: image.sm?.startsWith('http') ? this.sanitizer.bypassSecurityTrustStyle(`url('${image.sm}')`) : `url('${image.sm}')`,\n\t\t\t\t\t\tpure: image.sm\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\treturn sizes;\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tthis.safeImages = [];\n\t\t}\n\t}\n\n\tprivate initSlideDragWatching() {\n\t\tif (this.innerImagesEl && this.innerImagesEl.nativeElement) {\n\t\t\tthis.stopSlideDragWatching();\n\n\t\t\tif (this.helper.isMobileDevice())\n\t\t\t\tthis.listeners = [\n\t\t\t\t\tthis.renderer.listen(document.body, 'touchstart', this.onStartDrag.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'touchmove', this.onDragging.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'touchend', this.onEndDrag.bind(this))\n\t\t\t\t];\n\t\t\telse\n\t\t\t\tthis.listeners = [\n\t\t\t\t\tthis.renderer.listen(document.body, 'mousedown', this.onStartDrag.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'mousemove', this.onDragging.bind(this)),\n\t\t\t\t\tthis.renderer.listen(document.body, 'mouseup', this.onEndDrag.bind(this)),\n\t\t\t\t];\n\t\t}\n\t\telse\n\t\t\tsetTimeout(() => this.initSlideDragWatching(), 200);\n\t}\n\n\tprivate stopSlideDragWatching() {\n\t\tif (this.listeners && this.listeners.length)\n\t\t\tthis.listeners.forEach((unListen) => unListen());\n\t}\n\n\tpublic previewImage(image: any) {\n\t\tif (!this.previewRef) {\n\t\t\tthis.previewRef = this.helper.openPreview({\n\t\t\t\timage: {\n\t\t\t\t\tpureUrl: image.lg.pure,\n\t\t\t\t\tsafeUrl: image.lg.url,\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tthis.previewRef.onClose.subscribe(() => this.previewRef = null);\n\t\t}\n\t}\n\n\tpublic selectImage(imageIndex: number, event) {\n\t\tif (imageIndex !== this.currentImageIndex) {\n\t\t\tthis.lastDirectionIsRight = imageIndex > this.currentImageIndex;\n\t\t\tthis.currentImageIndex = imageIndex;\n\n\t\t\tif (event.target && this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\tthis.scrollingToElement(event.target as HTMLElement, this.lastDirectionIsRight);\n\t\t}\n\t}\n\n\tpublic goPrevImage(salt: number = 0) {\n\t\tif (this.currentImageIndex > 0) {\n\t\t\tif (salt) {\n\t\t\t\tif ((this.currentImageIndex - salt) >= 0)\n\t\t\t\t\tthis.currentImageIndex -= salt + 1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentImageIndex = 0;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.currentImageIndex--;\n\n\t\t\tthis.lastDirectionIsRight = false;\n\n\t\t\tlet target = this.imageListEl.nativeElement.children[0].children[this.currentImageIndex] as HTMLElement;\n\t\t\tif (this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\tthis.scrollingToElement(target, this.lastDirectionIsRight);\n\t\t}\n\t}\n\n\tpublic goNextImage(salt: number = 0) {\n\t\tif ((this.currentImageIndex + 1) < this.images.length) {\n\t\t\tif (salt) {\n\t\t\t\tif ((this.currentImageIndex + salt + 1) <= (this.images.length - 1))\n\t\t\t\t\tthis.currentImageIndex = salt + 1;\n\t\t\t\telse\n\t\t\t\t\tthis.currentImageIndex = this.images.length;\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.currentImageIndex++;\n\n\t\t\tthis.lastDirectionIsRight = true;\n\n\t\t\tlet target = this.imageListEl.nativeElement.children[0].children[this.currentImageIndex] as HTMLElement;\n\t\t\tif (this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\tthis.scrollingToElement(target, this.lastDirectionIsRight);\n\t\t}\n\t}\n\n\tprivate scrollingToElement(element: HTMLElement, directionIsRight: boolean) {\n\t\tlet scrollElement = this.imageListEl.nativeElement;\n\t\tif (scrollElement && scrollElement.scrollWidth > 0){\n\t\t\tlet blockWidth = element.clientWidth + 14;\n\t\t\tlet scrollLeft = element.offsetLeft - 14;\n\t\t\tlet scrollRight = element.offsetLeft + element.clientWidth + 14;\n\t\t\tlet currentScrollLeft = scrollElement.scrollLeft;\n\t\t\tlet currentScrollRight = scrollElement.scrollLeft + scrollElement.clientWidth;\n\n\t\t\tlet scroll = .1;\n\n\t\t\tif (directionIsRight && (currentScrollRight - scrollRight) < Math.floor(blockWidth / 2))\n\t\t\t\tscroll = currentScrollLeft + blockWidth + 100;\n\t\t\telse if (!directionIsRight && (scrollLeft - currentScrollLeft) < Math.floor(blockWidth / 2))\n\t\t\t\tscroll = currentScrollLeft - blockWidth;\n\n\t\t\tif (scroll !== .1) {\n\t\t\t\tif (this.timerSroll) clearInterval(this.timerSroll);\n\t\t\t\tthis.timerSroll = this.helper.smoothScroll(scrollElement, scroll, 400, 'left');\n\t\t\t}\n\t\t}\n\t}\n\n\tpublic onKeydown(event) {\n\t\tif (!this.destroyed && !this.isDragging && [37, 39].indexOf(event.keyCode) >= 0) {\n            if (event.keyCode === 37)\n                this.goPrevImage();\n            else\n\t\t\t\tthis.goNextImage();\n\t\t\t\t\n\t\t\tif (this.previewRef)\n\t\t\t\tthis.previewRef.instance.onImageChange({\n\t\t\t\t\tpureUrl: this.currentImage.lg.pure,\n\t\t\t\t\tsafeUrl: this.currentImage.lg.url,\n\t\t\t\t});\n\t\t}\n\t}\n\n\tpublic onWindowResize() {\n\t\tif (!this.destroyed && !this.windowResizing) {\n\t\t\tthis.windowResizing = true;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.containerWidth = this.sectionEl.nativeElement.clientWidth;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.windowResizing = false;\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (this.imageListEl && this.imageListEl.nativeElement) {\n\t\t\t\t\t\t\tlet target = this.imageListEl.nativeElement.children[0].children[this.currentImageIndex] as HTMLElement;\n\t\t\t\t\t\t\tif (this.imageListEl && this.imageListEl.nativeElement)\n\t\t\t\t\t\t\t\tthis.scrollingToElement(target, this.lastDirectionIsRight);\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 100);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\tprivate onStartDrag(event) {\n\t\tlet isTouching = false;\n\t\tif (event.touches) {\n\t\t\tisTouching = true;\n\t\t\tevent = event.touches[0];\n\t\t}\n\t\t\n\t\tif (isTouching || event.button === 0) {\n\t\t\tif (this.helper.elementIsChild(event.target, this.sectionEl.nativeElement)) {\n\t\t\t\tthis.drag.startLeft = this.innerImagesEl.nativeElement.offsetLeft;\n\t\t\t\tthis.drag.currentLeft = this.innerImagesEl.nativeElement.offsetLeft;\n\t\t\t\tthis.drag.startOffset = event.clientX;\n\t\t\t\tthis.drag.currentOffset = event.clientX;\n\t\t\t\tthis.drag.state = 'start';\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate onDragging(event) {\n\t\tif (event.touches)\n\t\t\tevent = event.touches[0];\n\n\t\tif (this.drag.state === 'start' || this.drag.state === 'dragging') {\n\n\t\t\tthis.drag.state = 'dragging';\n\t\t\tthis.drag.currentOffset = event.clientX;\n\n\t\t\tif (this.drag.startOffset !== this.drag.currentOffset) {\n\t\t\t\tlet draggingRight = this.drag.currentOffset > this.drag.startOffset;\n\t\t\t\tlet delta = Math.abs(this.drag.currentOffset - this.drag.startOffset) * .8;\n\n\t\t\t\tif (((draggingRight && this.currentIsFisrt) || (!draggingRight && this.currentIsLast)) && delta > Math.floor(this.containerWidth / 3))\n\t\t\t\t\tdelta = Math.floor(this.containerWidth / 3);\n\n\t\t\t\tthis.drag.currentLeft = this.drag.startLeft + ((draggingRight ? 1 : -1) * delta);\n\t\t\t}\n\t\t\telse\n\t\t\t\tthis.drag.currentLeft = this.drag.startLeft;\n\t\t}\n\t}\n\n\tprivate onEndDrag(event) {\n\t\tlet isTouching = false;\n\t\tif (event.touches) {\n\t\t\tisTouching = true;\n\t\t\tevent = event.touches[0];\n\t\t}\n\t\t\n\t\tif (isTouching || event.button === 0) {\n\t\t\tlet amountDragged = Math.abs(this.drag.startOffset - this.drag.currentOffset);\n\n\t\t\tif (this.drag.state === 'dragging' && amountDragged > 0)\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.drag.state = 'none';\n\n\t\t\t\t\tlet minDreg = 70;\n\n\t\t\t\t\tif (amountDragged >= minDreg) {\n\t\t\t\t\t\tlet draggingRight = this.drag.currentOffset > this.drag.startOffset;\n\n\t\t\t\t\t\tlet salts = (amountDragged / this.sectionEl.nativeElement.clientWidth) - 1;\n\t\t\t\t\t\tif (salts >= 1)\n\t\t\t\t\t\t\tsalts = Math.floor(salts);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tsalts = 0;\n\n\t\t\t\t\t\tif (draggingRight && !this.currentIsFisrt)\n\t\t\t\t\t\t\tthis.goPrevImage(salts);\n\t\t\t\t\t\telse if (!draggingRight && !this.currentIsLast)\n\t\t\t\t\t\t\tthis.goNextImage(salts);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\telse {\n\t\t\t\tthis.drag.state = 'none';\n\t\t\t}\n\t\t}\n\t}\n\n\tngOnDestroy() {\n\t\tthis.destroyed = true;\n\t\tthis.stopSlideDragWatching();\n\t}\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { SliderCarouselComponent } from './slider-carousel.component';\nimport { SliderCarouselPreviewComponent } from './slider-carousel-preview/slider-carousel-preview.component';\nimport { Helper } from './helper';\n\n@NgModule({\n    imports: [\n        CommonModule,\n    ],\n    exports: [\n        SliderCarouselComponent\n    ],\n    declarations: [\n        SliderCarouselComponent,\n        SliderCarouselPreviewComponent\n    ],\n    entryComponents: [\n        SliderCarouselComponent,\n        SliderCarouselPreviewComponent\n    ],\n    providers: [\n        Helper\n    ]\n})\nexport class SliderCarouselModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {Helper as ɵa} from './helper';\nexport {SliderCarouselPreviewComponent as ɵb} from './slider-carousel-preview/slider-carousel-preview.component';"],"names":[],"mappings":"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"}